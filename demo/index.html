<!DOCTYPE html>
<html>
<head>
    <title>Demo</title>
    <meta charset="utf-8">
    <script src="js/bosonic-polyfills.js"></script>
    <script src="js/bosonic.js"></script>
    <script src="js/b-flash-message.js"></script>
    <link href="css/b-flash-message.css" rel="stylesheet">
    <style>
        .close{
            float:right;
            opacity:.4;
            filter:alpha(opacity=40);
            cursor: pointer;
        }
    </style>
</head>
<body>

    <b-flash-message visible="true" duration="2000">
        <h1><strong>It's working!</strong></h1><p>Well done.</p>
    </b-flash-message>

    <h1>b-flash-message</h1>
    <div>
        <p>Display an info message that automatically disappears after 2 secs: <a href="#" id="show-message">show message</a></p>
        <b-flash-message id="myMessage" type="info" duration="2000">
            <strong>Hello, World!</strong> Foo Bar
        </b-flash-message>
    </div>

    <div>
        <p>Different levels of flash message are available: (<a href="#" id="reload">reload</a>)</p>
        <div class="flash-messages">
            <b-flash-message type="success" visible="true">
                <strong>Congrats!</strong> Foo Bar
                <button type="button" class="close">×</button>
            </b-flash-message>

            <b-flash-message type="info" visible="true">
                <strong>Good to know!</strong> Foo Bar
                <button type="button" class="close">×</button>
            </b-flash-message>

            <b-flash-message type="warning" visible="true">
                <strong>Oups!</strong> Foo Bar
                <button type="button" class="close">×</button>
            </b-flash-message>

            <b-flash-message type="error" visible="true">
                <strong>Fail!</strong> Foo Bar
                <button type="button" class="close">×</button>
            </b-flash-message>
        </div>
    </div>

    <script type="text/javascript">
    function logEvent(e) {
        console.log('event `' + e.type + '` triggered: ', e);
    }

    window.addEventListener('WebComponentsReady', function() {
        var showInfoFlashMessageButton = document.getElementById('show-message');
        showInfoFlashMessageButton.addEventListener('click', function(e) {
            e.preventDefault();
            document.querySelector('#myMessage').show();
        }, false);

        var reloadButton = document.getElementById('reload');
        reloadButton.addEventListener('click', function(e) {
            e.preventDefault();
            var messages = document.querySelectorAll('.flash-messages b-flash-message');
            for (var i = 0 ; i < messages.length ; i++) {
                messages.item(i).show();
            }
        }, false);

        var messages = document.querySelectorAll('b-flash-message');
        for (var i = 0 ; i < messages.length ; i++) {
            messages.item(i).addEventListener('show', logEvent);
            messages.item(i).addEventListener('close', logEvent);
        }

        var closeButtons = document.querySelectorAll('b-flash-message .close');
        for (var i = 0 ; i < closeButtons.length ; i++) {
            closeButtons.item(i).addEventListener('click', function(e) {
                e.preventDefault();
                e.target.parentNode.close();
            });
        }
    });
    </script>
</body>