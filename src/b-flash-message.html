<element name="b-flash-message">
    <style>
        b-flash-message {
            display: none;
            padding: 15px;
            margin-bottom: 20px;
            border: 1px solid transparent;
            border-radius: 4px;
            min-height: 19px;
        }

        b-flash-message[type=success] {
            background-color: #dff0d8;
            border-color: #d6e9c6;
            color: #3c763d;
        }

        b-flash-message[type=info] {
            background-color: #d9edf7;
            border-color: #bce8f1;
            color: #31708f;
        }

        b-flash-message[type=warning] {
            background-color: #fcf8e3;
            border-color: #faebcc;
            color: #8a6d3b;
        }

        b-flash-message[type=error] {
            background-color: #f2dede;
            border-color: #ebccd1;
            color: #a94442;
        }

        b-flash-message .alert-closeable{
            padding-right: 35px;
        }

        .close{
            position: relative;
            top: -2px;
            right: -21px;
            color: inherit;
            float:right;
            font-size:21px;
            font-weight:700;
            line-height:1;
            color:#000;
            text-shadow:0 1px 0 #fff;
            opacity:.2;
            filter:alpha(opacity=20);
        }

        b-flash-message[visible] {
            display: block;
        }
    </style>
    <template>
        <div class="b-flash-message alert-closeable">
        	<button type="button" class="close">Ã—</button>
            <content></content>
        </div>
    </template>
    <script>
        ({
            readyCallback: function() {
                var root = this.createShadowRoot();
                root.appendChild(this.template.content.cloneNode(true));

                var isCloseable = this.getAttribute('closeable') === 'true';
                var closeButton = root.querySelector('button.close');

                if(isCloseable)
                    closeButton.addEventListener('click', this.close.bind(this));
                else
                    closeButton.remove();

                var type = this.getAttribute('type');
                if(!type)
                    this.setAttribute('type', 'info');

                var isVisible = this.getAttribute('visible') === 'true';
                if(isVisible)
                    this.show();
            },
            show: function() {
                this.setAttribute('visible', 'true');

                var duration = this.getAttribute('duration');
                if(duration && !isNaN(parseInt(duration)))
                    setTimeout(this.close.bind(this), duration);

                this.dispatchEvent(new Event('show'));
            },
            close: function() {
                this.removeAttribute('visible');

                this.dispatchEvent(new Event('close'));
            }
        });
    </script>
</element>